NPROXY
======

**An HTTP/1.1 High performance, programmable application proxy**

Introduction
------------

NProxy is a lightweight, fast, programmable HTTP/1.1 Proxy, driven by simple user-written LUA programs which allows a great flexibility.
NProxy runs on *Linux*, *BSD flavours* (tested on FreeBSD but should work on NetBSD and OpenBSD), *OSX* and (soon) *Windows*.

The Open source version is derived from a more complex and feature-complete version based on a proprietary Runtime Library. This version, based on APR (Apache Runtime Library) can run (eventually with minor fixes, so let me know) on all platforms supported by APR.

Use Cases
---------

Nproxy can be used in serveral cases. The following ones are only examples but there is actually no limit:

- As a *security measure*, in transparent mode, to filter all outgoing connections from a web server. In fact, sometimes, on shared hostings, you need a way to block outgoing HTTP connections to "strange" hosts (eventually generated by bots or malware) and allow trusted connections to other services (blog pings, for example).
- As a filter to *allow/deny access internet access* to your employees. The flexibility here is unbeatable because you can customize every single parameter of your filter, according to your needs.
- As a *filter for your house*, you prevent your childs to surf on unwanted websites
- As a *filter for adware*, banners and annoying or invasive contents (cookie tracking services)

Feel free to write me and describe your experience!

Installation
------------

The prerequisites are_
- you must have CMake 2.4 (or greater)
- you must have Lua (5.0 and 5.1 supported - 5.2 support is on the TODO list)
- you must have APR - Apache Runtime Library 1.4 (or greater) installed. Should probably work with 1.3 as well.

### Unix/Linux/[Free,Net,Open]BSD

- Install Cmake, Lua and APR. On Debian, for example, use:
    apt-get install cmake liblua5.1-0-dev libapr1-dev
- Create a directory to store your code. This is not the directory where you will be building NProxy:
    mkdir nproxy && cd nproxy
- Clone NProxy repository:
    git clone https://github.com/ctrix/nproxy trunk
- Create the directory to build NProxy:
    mkdir build && cd build
- Run CMake to configure the build:
    cmake ../trunk
- If no errors are reported, the compile and install. Everything should be quite fast:
    make install

### OSX

Try to follow the details for Unix.

### Windows

Instructions will be posted as soon as support will be ready.

Configuration
-------------

The configuration file is *nproxyd.conf.xml*. Yes, it's XML. I don't like it too but there are good reasons to use it.
Anyway it's a few lines long and it's intended to be read and written by a human with vim. *Really, it's easy!* you shouldn't worry!

There are 2 zones.
The first refers to logging, the second refers to the profiles (i'll tell you in a while what a profile is).

### Logging

### Profiles



Developement
------------

- Source hosted at [GitHub](https://github.com/ctrix/nproxy)
- Report issues, questions, feature requests on [GitHub Issues](https://github.com/ctrix/nproxy/issues)

Authors
-------

[Massimo Cetra](http://www.ctrix.it/)
